{
  "name": "Process",
  "color": "#2F4F4F",
  "icon": "app-window",
  "nodes": [
    {
      "name": "Get Env Variable",
      "version": "23.6.0",
      "description": "Retrieves the value of a specified environment variable from the operating system.",
      "color": "#2F4F4F",
      "icon": "variable",
      "id": "Core.Process.GetEnvVariable",
      "inputs": 1,
      "outputs": 1,
      "properties": [
        {
          "schema": {
            "title": "Input",
            "type": "object",
            "properties": {
              "inVarName": {
                "type": "object",
                "title": "Variable Name",
                "description": "The name of the environment variable to retrieve. For example: 'PATH', 'HOME', 'USER', or any custom environment variable name.",
                "variableType": "String",
                "customScope": true,
                "jsScope": true,
                "messageScope": true,
                "properties": {
                  "scope": {
                    "type": "string"
                  },
                  "name": {
                    "type": "string"
                  }
                }
              }
            }
          },
          "uiSchema": {
            "inVarName": {
              "ui:field": "variable"
            }
          },
          "formData": {
            "inVarName": {
              "scope": "Custom",
              "name": ""
            }
          }
        },
        {
          "schema": {
            "title": "Output",
            "type": "object",
            "properties": {
              "outValue": {
                "type": "object",
                "title": "Value",
                "description": "The value of the requested environment variable. Returns empty string if the variable is not set or doesn't exist.",
                "variableType": "String",
                "messageScope": true,
                "properties": {
                  "scope": {
                    "type": "string"
                  },
                  "name": {
                    "type": "string"
                  }
                }
              }
            }
          },
          "uiSchema": {
            "outValue": {
              "ui:field": "variable"
            }
          },
          "formData": {
            "outValue": {
              "scope": "Message",
              "name": "value"
            }
          }
        }
      ]
    },
    {
      "name": "Get Processes",
      "version": "23.6.0",
      "description": "Retrieves a list of running processes on the system, optionally filtered by process name using regex patterns.",
      "color": "#2F4F4F",
      "icon": "cpu",
      "id": "Core.Process.GetProcesses",
      "inputs": 1,
      "outputs": 1,
      "properties": [
        {
          "schema": {
            "title": "Input",
            "type": "object",
            "properties": {
              "inNameFilter": {
                "type": "object",
                "title": "Name Filter (Regex)",
                "description": "Regular expression pattern to filter processes by executable name or path. Leave empty to return all processes. Examples: 'chrome', '.*.exe$', 'notepad'.",
                "variableType": "String",
                "customScope": true,
                "jsScope": true,
                "messageScope": true,
                "properties": {
                  "scope": {
                    "type": "string"
                  },
                  "name": {
                    "type": "string"
                  }
                }
              }
            }
          },
          "uiSchema": {
            "inNameFilter": {
              "ui:field": "variable"
            }
          },
          "formData": {
            "inNameFilter": {
              "scope": "Custom",
              "name": ""
            }
          }
        },
        {
          "schema": {
            "title": "Output",
            "type": "object",
            "properties": {
              "outPids": {
                "type": "object",
                "title": "Process Ids",
                "description": "Array of process IDs (PIDs) for all matching processes. These can be used to identify or terminate specific processes.",
                "variableType": "Array",
                "messageScope": true,
                "properties": {
                  "scope": {
                    "type": "string"
                  },
                  "name": {
                    "type": "string"
                  }
                }
              },
              "outExecs": {
                "type": "object",
                "title": "Executable Names",
                "description": "Array of executable names or paths for all matching processes. These correspond to the process IDs in the same order.",
                "variableType": "Array",
                "messageScope": true,
                "properties": {
                  "scope": {
                    "type": "string"
                  },
                  "name": {
                    "type": "string"
                  }
                }
              }
            }
          },
          "uiSchema": {
            "outPids": {
              "ui:field": "variable"
            },
            "outExecs": {
              "ui:field": "variable"
            }
          },
          "formData": {
            "outPids": {
              "scope": "Message",
              "name": "pids"
            },
            "outExecs": {
              "scope": "Message",
              "name": "execs"
            }
          }
        }
      ]
    },
    {
      "name": "Kill Process",
      "version": "23.6.0",
      "description": "Terminates a running process either by process ID or by name pattern. Can kill multiple processes matching the name pattern.",
      "color": "#2F4F4F",
      "icon": "monitor-x",
      "id": "Core.Process.KillProcess",
      "inputs": 1,
      "outputs": 1,
      "properties": [
        {
          "schema": {
            "title": "Input",
            "type": "object",
            "properties": {
              "inProcessName": {
                "type": "object",
                "title": "Process Name (Regex)",
                "description": "Regular expression pattern to match process executable names. Used when Process ID is not specified. Examples: 'notepad', '.*chrome.*', 'java'.",
                "variableType": "String",
                "customScope": true,
                "jsScope": true,
                "messageScope": true,
                "properties": {
                  "scope": {
                    "type": "string"
                  },
                  "name": {
                    "type": "string"
                  }
                }
              },
              "inPid": {
                "type": "object",
                "title": "Process ID",
                "description": "Specific process ID to terminate. If provided, this takes priority over Process Name. Use 0 or leave empty to use Process Name instead.",
                "variableType": "Integer",
                "messageScope": true,
                "properties": {
                  "scope": {
                    "type": "string"
                  },
                  "name": {
                    "type": "string"
                  }
                }
              }
            }
          },
          "uiSchema": {
            "inProcessName": {
              "ui:field": "variable"
            },
            "inPid": {
              "ui:field": "variable"
            },
            "ui:order": [
              "inProcessName",
              "inPid"
            ]
          },
          "formData": {
            "inProcessName": {
              "scope": "Custom",
              "name": ""
            },
            "inPid": {
              "scope": "Message",
              "name": "pid"
            }
          }
        }
      ]
    },
    {
      "name": "Start Process",
      "version": "23.6.0",
      "description": "Launches a new process with the specified executable, arguments, and working directory. Can run in foreground or background mode.",
      "color": "#2F4F4F",
      "icon": "tv-minimal-play",
      "id": "Core.Process.StartProcess",
      "inputs": 1,
      "outputs": 1,
      "properties": [
        {
          "schema": {
            "title": "Input",
            "type": "object",
            "properties": {
              "inFilePath": {
                "type": "object",
                "title": "Executable Path",
                "description": "Full path to the executable file to run. Can be an absolute path or a program name in the system PATH. Examples: 'notepad.exe', '/usr/bin/python3', 'calculator'.",
                "variableType": "String",
                "customScope": true,
                "jsScope": true,
                "messageScope": true,
                "properties": {
                  "scope": {
                    "type": "string"
                  },
                  "name": {
                    "type": "string"
                  }
                }
              },
              "inArguments": {
                "type": "object",
                "title": "Arguments",
                "description": "Array of command-line arguments to pass to the executable. Each array element becomes a separate argument. Used when Custom Arguments is empty.",
                "variableType": "Array",
                "messageScope": true,
                "properties": {
                  "scope": {
                    "type": "string"
                  },
                  "name": {
                    "type": "string"
                  }
                }
              },
              "inWorkingDir": {
                "type": "object",
                "title": "Working Directory",
                "description": "The directory from which to run the process. This affects relative file paths used by the executable. Leave empty to use current directory.",
                "variableType": "String",
                "customScope": true,
                "jsScope": true,
                "messageScope": true,
                "properties": {
                  "scope": {
                    "type": "string"
                  },
                  "name": {
                    "type": "string"
                  }
                }
              },
              "inCustomArgs": {
                "title": "Custom Arguments",
                "description": "Static list of command-line arguments to pass to the executable. Takes priority over Arguments array when specified. Examples: '--help', '-v', '--config=file.json'.",
                "type": "array",
                "placeholder": "ex: --arg=VALUE",
                "items": {
                  "type": "string"
                }
              }
            }
          },
          "uiSchema": {
            "inArguments": {
              "ui:field": "variable"
            },
            "inFilePath": {
              "ui:field": "variable"
            },
            "inWorkingDir": {
              "ui:field": "variable"
            },
            "inCustomArgs": {
              "ui:field": "array"
            },
            "ui:order": [
              "inFilePath",
              "inArguments",
              "inWorkingDir",
              "inCustomArgs"
            ]
          },
          "formData": {
            "inFilePath": {
              "scope": "Custom",
              "name": ""
            },
            "inArguments": {
              "scope": "Message",
              "name": "args"
            },
            "inWorkingDir": {
              "scope": "Custom",
              "name": ""
            },
            "inCustomArgs": []
          }
        },
        {
          "schema": {
            "title": "Output",
            "type": "object",
            "properties": {
              "outPid": {
                "type": "object",
                "title": "Process ID",
                "description": "The process ID of the started process. Use this ID to monitor or terminate the process later. Returns 0 if process couldn't be started.",
                "variableType": "Integer",
                "messageOnly": true,
                "properties": {
                  "scope": {
                    "type": "string"
                  },
                  "name": {
                    "type": "string"
                  }
                }
              },
              "outStdout": {
                "type": "object",
                "title": "Standard Output",
                "description": "Combined standard output and error from the process. Only available when Background Process is disabled (foreground mode).",
                "variableType": "String",
                "messageOnly": true,
                "properties": {
                  "scope": {
                    "type": "string"
                  },
                  "name": {
                    "type": "string"
                  }
                }
              }
            }
          },
          "uiSchema": {
            "outPid": {
              "ui:field": "variable"
            },
            "outStdout": {
              "ui:field": "variable"
            }
          },
          "formData": {
            "outPid": {
              "scope": "Message",
              "name": "pid"
            },
            "outStdout": {
              "scope": "Message",
              "name": "stdout"
            }
          }
        },
        {
          "schema": {
            "title": "Option",
            "type": "object",
            "properties": {
              "optBackground": {
                "type": "boolean",
                "title": "Background Process",
                "description": "If enabled, starts the process in background without waiting for completion. If disabled, waits for process to finish and captures output."
              }
            }
          },
          "uiSchema": {
            "optBackground": {
              "ui:field": "input"
            }
          },
          "formData": {
            "optBackground": false
          }
        }
      ]
    }
  ]
}